// Generated by CoffeeScript 1.6.2
(function() {
  var async, convert, mongo, _readAndConvert;

  async = require("async");

  mongo = require("../baio-mongo/mongo");

  _readAndConvert = function(coll, done) {
    return coll.find().each(function(err, doc) {
      if (!err) {
        if (doc) {
          return console.log(doc);
        } else {
          return done();
        }
      }
    });
  };

  convert = function(done) {
    mongo.setConfig({
      uri: process.env.MONGO_URI
    });
    return async.waterfall([
      function(ck) {
        return mongo.open("contribs", ck);
      }, function(coll, ck) {
        return _readAndConvert(coll, function(err) {
          return ck(err, coll);
        });
      }
    ], function(err, coll) {
      if (coll) {
        mongo.close(coll);
      }
      return done(err);
    });
  };

  convert(function(err) {
    return console.log(err);
  });

}).call(this);

/*
//@ sourceMappingURL=knit2neo.map
*/
